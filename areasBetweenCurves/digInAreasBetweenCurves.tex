\documentclass{ximera}
\input{../preamble}
\pgfplotsset{compat=1.13}
\author{Jim Talamo}

\outcome{Introduce the method of ``Slice, Approximate, Integrate" to set up Riemann integrals}
\outcome{Find the bounded area between two curves.}
\outcome{Express the area between curves as an integral or sum of integrals with respect to $x$ or $y$.}
\outcome{Decide whether to integrate with respect to $x$ or $y$.}


\title[Dig-In:]{Area between curves}
 
\begin{document}
\begin{abstract}
  We introduce the procedure of ``Slice, Approximate, Integrate" and use it study the area of a region between two curves using the definite integral.
\end{abstract}
\maketitle

We have seen previously that for continuous functions defined on closed intervals, the Fundamental Theorem of Calculus relates the process of finding antiderivatives to calculating certain areas.  As it turns out the process used to transcribe Riemann sums that \emph{approximate} such areas to definite integrals that give an \emph{exact} answer is a fundamental procedure that applies to numerous examples in both mathematics and other STEM fields.  In the upcoming sections, we will apply this process to many different cases of interest.  As an opening remark, we deal only with piecewise continuously differentiable functions unless otherwise noted.  
%%%%FINISH THIS

\section{The Fundamental Theorem of Calculus and Areas}

We begin the section with an example that illustrates the concepts that are fundamental in setting up definite integrals.  Consider a continuous function $f(x)$ that is positive on a closed interval $[a,b]$ in its domain.   Suppose that we are interested in finding the area bounded by the graph of $y=f(x)$ and the $x$-axis between $x=a$ and $x=b$.  Below is an example of such an example.


\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=0:6, ymax=1.75,xmax=6, ymin=0, xmin=0,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={1.5,4.5},
	xticklabels={$a$,$b$},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	typeset ticklabels with strut,
	]

	\addplot [draw=penColor,very thick, smooth] {.4*sin(deg(x)) + 1};
	
	\addplot [name path=A,domain=1.5:4.5,draw=none] {.4*sin(deg(x)) + 1};   
	\addplot [name path=B,domain=1.5:4.5,draw=none] {0};
	\addplot [fillp] fill between[of=A and B];
	
	\draw[penColor,thick] (1.5,0) -- (1.5,{.4*sin(deg(1.5)) + 1});
	\draw[penColor,thick] (4.5,0) -- (4.5,{.4*sin(deg(4.5)) + 1});
	
	\node at (axis cs:3,1.5) [penColor] {$y=f(x)$};
\end{axis}

\end{tikzpicture}
\end{image}

We can write this area as the definite integral 

\[A = \int_{x=a}^{x=b} f(x) dx , \]

and we may use the Fundamental Theorem of Calculus to evaluate it.  However, recalling how this result was obtained in the first place is instructive.  Understanding the logic behind it is essential in order to apply a similar method to set up integrals to model other types of situations.  We thus give a detailed conceptual outline of the argument here.

\paragraph{Step 1: Slice}

Since we have expressed $y$ as an function of $x$, we divide the interval $[a,b]$ into $n$ pieces of uniform width $\Delta x$. 




\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=0:6, ymax=1.75,xmax=6, ymin=-.25, xmin=0,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={1.5,4.5},
	xticklabels={$a$,$b$},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	typeset ticklabels with strut,
	]

	\addplot [draw=penColor,very thick, smooth] {.4*sin(deg(x)) + 1};
	
	\node at (axis cs:3,1.5) [penColor] {$y=f(x)$};
	
	\addplot [name path=A,domain=1.5:4.5,draw=none] {.4*sin(deg(x)) + 1};   
	\addplot [name path=B,domain=1.5:4.5,draw=penColor,thick] {0};
	\addplot [fillp] fill between[of=A and B];

	\pgfplotsinvokeforeach{1.5,2.25,3,3.75,4.5}	
	{
		\draw[black,thick] 
		(axis cs:#1,0) -- (axis cs:#1,{.4*sin(deg(#1)) + 1});
	}
	
	\node at (axis cs:2.625,-.15) [penColor] {$\Delta x$};
	
	\draw[penColor, |-|] (axis cs:2.25,-.07) -- (axis cs:3,-.07);
\end{axis}

\end{tikzpicture}
\end{image}


As a note, using rectangles of equal width is not a requirement.  In a more theoretical treatment, this can be treated, but it suffices for us to use uniform widths in order to present more conceptually tractable examples.  As such, we adopt this convention here as well as in the coming sections. 


\paragraph{Step 2: Approximate}

We cannot determine the exact area of the slice, but we can approximate each slice by a rectangle.  The top of the rectangle should coincide with the top curve, and the bottom of the rectangle should coincide with the lower curve above some common $x$-value on the base of the rectangle.  For the sake of the picture, we use the lefthand endpoint to determine the height of each rectangle.




\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=0:6, ymax=1.75,xmax=6, ymin=-.25, xmin=0,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={1.5,4.5},
	xticklabels={$a$,$b$},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	typeset ticklabels with strut,
	]

	\addplot [draw=penColor,very thick, smooth] {.4*sin(deg(x)) + 1};
	
	\node at (axis cs:3,1.5) [penColor] {$y=f(x)$};

	\pgfplotsinvokeforeach{2.25,3,3.75,4.5}	
	{
		\draw[black,thick,fill=fillp] 
		(axis cs:#1-.75,0)
		-- (axis cs:#1-.75,{.4*sin(deg(#1)) + 1}) 
		-- (axis cs:#1,{.4*sin(deg(#1)) + 1}) 
		-- (axis cs:#1,0) 
		-- (axis cs:#1-.75,0);
	}
	
	\node at (axis cs:2.625,-.15) [penColor] {$\Delta x$};
	
	\draw[penColor, |-|] (axis cs:2.25,-.07) -- (axis cs:3,-.07);
\end{axis}

\end{tikzpicture}
\end{image}

We can now find the area $\Delta A_k$ of the $k$-th rectangle. 
\begin{align}
\Delta A_k & = (height) \times (width) \nonumber \\
\Delta A_k &= f\left(x_k^*\right)\Delta x 
\end{align}
where $x_k^*$ here is the $x$-value of the right-hand endpoint of each rectangle.  The height of the rectangle is thus $f(x_k^*)$. 

Let $S_n$ denote the total area obtained by adding the areas of the $n$ rectangles together.   Then, we can compute $S_n$ easily by adding up the areas of all of the rectangles. $$S_n = \Delta A_1 + \Delta A_2 + \cdots +\Delta A_n$$
or if you prefer using sigma notation, 
\begin{equation}
S_n =\sum_{k=1}^{n} \Delta A_k =  \sum_{k=1}^n f(x_k^*) \Delta x. 
\end{equation}
Note that as we use more rectangles, the following occur \emph{simultaneously}:

\begin{itemize}
\item[1.] The width $\Delta x$ of each rectangle decreases.
\item[2.] The total number of rectangles increases.
\item[3.] The sum of the areas of the rectangles becomes closer to the actual area.
\end{itemize}

The actual area is then $A = \lim_{n \rightarrow \infty} \left[ \sum_{k=1}^n f(x_k^*) \Delta x \right]$.





%%%INTERACTIVE FIGURE%%%%%%%

\paragraph{Step 3: Integrate}

While this infinite limit can be quite cumbersome to work out in even the simplest cases, the Fundamental Theorem of Calculus comes to the rescue.  It guarantees that since $y=f(x)$ is continuous on $[a,b]$, we may find the area by finding antiderivatives and evaluating the difference of an antiderivative of $f(x)$ at the endpoints.

\[A = \int_{x=a}^{x=b} f(x) dx = F(b)-F(a) ,\]

where $F(x)$ is an antiderivative of $f(x)$.

This can now be interpreted conceptually as follows:
\begin{itemize}
\item[1.] The notation ``$\Delta x$" represents the \emph{finite} but small width of a rectangle.  The notation ``$dx$" represents the \emph{infinitesimal} width of a rectangle.
\item[2.] The procedure of definite integration can be thought of conceptually as follows.  We \emph{simultaneously} shrink the widths of the rectangles while adding all of the areas together.  
\item[3.] The integrand $f(x) dx$ can be thought of as the area of an \emph{infinitesimal} rectangle of height $f(x)$ and thickness $dx$.  As such, we cannot think of a rectangle of width $dx$ as having width zero since we must add infinitely many such rectangles together. 
\end{itemize}

This same procedure can be used to model many other situations, which will be the subject of the coming sections.  It is therefore important to understand the logic behind it.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{The Area Between Two Curves}

The above procedure also can be used to find areas between two curves as well.  Henceforth, by ``area'', we will mean ``total area''; the area bounded by the curves should be taken to be positive.  For example, the area bounded by $y=-x$ and $y=0$ from $x=0$ and $x=1$ is shown below.  

\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=-.5:1.3, ymax=.5,xmax=1.3, ymin=-1.3, xmin=-.5,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={-1,1},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	]

	\addplot [draw=penColor,very thick, smooth] {-x};	
	\addplot [draw=penColor2,very thick, smooth] {0};
	
	\draw [penColor,thick] (1,-1) -- (1,0);
	
	\addplot [name path=A,domain=0:1,draw=none] {-x};	
	\addplot [name path=B,domain=0:1,draw=none] {0};
	\addplot [fillp] fill between[of=A and B];
	
	\node at (axis cs:.6,24) [penColor] {$y=-x$};
	\node at (axis cs:1.4,2.5) [penColor2] {$y = 0$};
\end{axis}

\end{tikzpicture}
\end{image}

By noticing that this is the area of a triangle whose base and height have length 1, the total area should be $+\frac{1}{2}$.

As it turns out, the previous procedure can be used to find the total area between two curves.  We explore this in the context of another motivating example.








\begin{model}
Suppose now that we have two functions, $y=4x^3+15$ and $y=3x^2-2$ and suppose we want to find the area between the two curves over the interval $-1 \leq x \leq 1$.  The area is shown below.

%%%%%%%%PICTURE%%%%%%%%%%%

\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=-1.2:1.2, ymax=25,xmax=2.2, ymin=-4, xmin=-1.2,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={-1,1},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	]

	\addplot [draw=penColor,very thick, smooth] {4*x^3 + 15};	
	\addplot [draw=penColor2,very thick, smooth] {3*x^2-2};
	
	\draw [penColor,thick] (-1,1) -- (-1,11);
	\draw [penColor,thick] (1,1) -- (1,19);
	
	\addplot [name path=A,domain=-1:1,draw=none] {4*x^3 + 15};	
	\addplot [name path=B,domain=-1:1,draw=none] {3*x^2-2};
	\addplot [fillp] fill between[of=A and B];
	
	\node at (axis cs:.6,22) [penColor] {$y=4x^3 + 15$};
	\node at (axis cs:1.7,4) [penColor2] {$y = 3x^2-2$};
\end{axis}

\end{tikzpicture}
\end{image}

%%%%%%%%PICTURE%%%%%%%%%%%


So how should we do this? Let's apply the procedure of ``Slice, Approximate, Integrate".

\paragraph{Step 1: Slice}

We divide $[-1,1]$ up into $n$ pieces of equal width $\Delta x$.

%%%%%%%%PICTURE%%%%%%%%%%%
\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=-1.2:1.2, ymax=25,xmax=2.2, ymin=-6, xmin=-1.2,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={-1,1},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	]

	\addplot [draw=penColor,very thick, smooth] {4*x^3 + 15};	
	\addplot [draw=penColor2,very thick, smooth] {3*x^2-2};
	
	\pgfplotsinvokeforeach{-1,-.75,-.5,-.25,0,.25,.5,.75,1}
	{
		\draw[penColor,thick] (#1, {3*(#1)^2-2}) -- (#1, {4*(#1)^3 + 15});
	}
	
	\addplot [name path=A,domain=-1:1,draw=none] {4*x^3 + 15};	
	\addplot [name path=B,domain=-1:1,draw=none] {3*x^2-2};
	\addplot [fillp] fill between[of=A and B];
	
	\addplot [name path=darkerA,domain=.5:.75,draw=none] {4*x^3 + 15};
	\addplot [name path=darkerB,domain=.5:.75,draw=none] {3*x^2-2};
	\addplot [blue!50!black!50] fill between[of=darkerA and darkerB];
	
	\node at (axis cs:.6,22) [penColor] {$y=4x^3 + 15$};
	\node at (axis cs:1.7,4) [penColor2] {$y = 3x^2-2$};
	
	\node at (axis cs:.625,-4) [penColor] {$\Delta x$};
	
	\draw[penColor, |-|] (axis cs:.5,-2.75) -- (axis cs:.75,-2.75);
\end{axis}

\end{tikzpicture}
\end{image}

%%%%%%%%PICTURE%%%%%%%%%%%




\paragraph{Step 2: Approximate}

We cannot determine the exact area of the slice, but just as before, we can approximate each slice by a rectangle whose heights are determined by the value of the function $y = f(x)$ at some $x$-value on its base.  Here, we choose to use left-hand endpoints.

%%%%%%%%PICTURE%%%%%%%%%%%

\begin{image}
\begin{tikzpicture}

\begin{axis}
	[
	domain=-1.2:1.2, ymax=25,xmax=2.2, ymin=-6, xmin=-1.2,
	axis lines=center, xlabel=$x$, ylabel=$y$,
	xtick={-1,1},
	ymajorticks=false,
	every axis y label/.style={at=(current axis.above origin),anchor=south},
	every axis x label/.style={at=(current axis.right of origin),anchor=west},
	axis on top,
	]

	\pgfplotsinvokeforeach{-1,-.75,-.5,-.25,0,.25,.75}
	{
		\draw[penColor,thick,fill=fillp] (#1, {3*(#1)^2-2}) -- (#1, {4*(#1)^3 + 15}) -- ({#1 + .25}, {4*(#1)^3 + 15}) -- ({#1 + .25}, {3*(#1)^2-2}) -- (#1, {3*(#1)^2-2});
	}
	\pgfplotsinvokeforeach{.5}
	{
		\draw[penColor,thick,fill=blue!50!black!50] (#1, {3*(#1)^2-2}) -- (#1, {4*(#1)^3 + 15}) -- ({#1 + .25}, {4*(#1)^3 + 15}) -- ({#1 + .25}, {3*(#1)^2-2}) -- (#1, {3*(#1)^2-2});
	}
	
	\draw[black, thick, |-|] (axis cs:.82,{3*(.5)^2-2}) -- (axis cs:.82,{4*(.5)^3 + 15});
	\node at (axis cs:.91,9) [black] {$h$};

	\addplot [draw=penColor,very thick, smooth] {4*x^3 + 15};	
	\addplot [draw=penColor2,very thick, smooth] {3*x^2-2};
	
	%\addplot [name path=A,domain=-1:1,draw=none] {4*x^3 + 15};	
	%\addplot [name path=B,domain=-1:1,draw=none] {3*x^2-2};
	%\addplot [fillp] fill between[of=A and B];
	
	\node at (axis cs:.6,22) [penColor] {$y=4x^3 + 15$};
	\node at (axis cs:1.7,4) [penColor2] {$y = 3x^2-2$};
	
	\node at (axis cs:.625,-4) [penColor] {$\Delta x$};
	
	\draw[penColor, |-|] (axis cs:.5,-2.75) -- (axis cs:.75,-2.75);
\end{axis}

\end{tikzpicture}
\end{image}

%%%%%%%%PICTURE%%%%%%%%%%%

The area $\Delta A_k$ of the $k$-th rectangle is given by 
\begin{align*}
\Delta A_k & = (height) \times (width), \nonumber \\
\end{align*}
where $x_k^*$ is the $x$-value of the left-hand endpoint of the $k$-th rectangle. 

To find the height of the darkly shaded rectangle, notice that this height is just the vertical distance between the curves.  Vertical distances can always be found by taking the top $y$-value minus the bottom $y$-value.  Since these $y$-values lie on the graphs of the given functions, at a given $x$-value, we have \wordChoice{\choice[correct]{$y_{top}=4x^3+15$}\choice{$y_{bot}=3x^2-2$}} and \wordChoice{
\choice{$y_{top}=4x^3+15$}\choice[correct]{$y_{bot}=3x^2-2$}}.

Thus, the height $h$ of the rectangle is $h=y_{top}-y_{bot} = \answer[given]{(4x^3+15)-(3x^2-2)}$.

The approximate total area obtained by adding the areas of the $n$ rectangles between $x=-1$ and $x=1$ together.  Note that as we use more rectangles, the following occur \emph{simultaneously}.

\begin{itemize}
\item[1.] The width $\Delta x$ of each rectangle decreases.
\item[2.] The total number of rectangles increases.
\item[3.] The sum of the areas of the rectangles becomes closer to the actual area.
\end{itemize}

The approximate area $A$ is given by the finite sum $A = \sum_{k=1}^n f(x_k^*) \Delta x $. 


\paragraph{Step 3: Integrate}

The actual area $A$ is found by taking the limit of the above sum, that is

\[
A = \lim_{n \rightarrow \infty} \left[ \sum_{k=1}^n f(x_k^*) \Delta x \right],
\]

and we can write this as the definite integral

\[
A = \int_{x=-1}^{x=1} (4x^3+15)-(3x^2-2) dx
\]

Once again the Fundamental Theorem of Calculus allows us to find the area using antiderivatives.

\begin{align*}
A &= \int_{x=-1}^{x=1} 4x^3-3x^2+17 dx \\
&= \bigg[] \answer[given]{x^4-x^3+17x}\bigg]_{x= -1}^{x=1} \\
&= \left[(1)^4-(1)^3+17(1)\right] -  \left[(-1)^4-(-1)^3+17(-1)\right] \\
&=\answer[given]{32}
\end{align*}


Note that $A = \int_{x=-1}^{x=1} (4x^3+15)-(3x^2-2) dx$ can be interpreted as follows:
\begin{itemize}
\item[1.] The integrand is the area of a rectangle, whose height is determined as the difference between the top and bottom $y$-values of the bounding curves, and whose thickness $dx$ is \emph{infinitesimal}. 
\item[2.] Since we integrate with respect to $x$, the limits of integration tell us the range of the $x$-values of the rectangles to be added.
\begin{itemize}
\item The lower limit gives the $x$-position of the first rectangle.
\item The upper limit gives the $x$-position of the last rectangle.
\end{itemize}
\end{itemize}


A similar procedure can be used in many other examples for the rest of the chapter.  The major point here is that once we find the approximate area for a \emph{single} rectangle, we can immediately write down the integral that gives the \emph{exact} area of the region.


\end{model}


\begin{remark} Since the thickness is $dx$, we must express the curves as functions of $x$; that is, we must write $y_{top}$ and $y_{bot}$ in terms of $x$.  This is a common theme that runs throughout this chapter.  Once we choose a variable of integration, \emph{every} quantity (limits of integration, functions in the integrand) \emph{must} be written in terms of that variable!
\end{remark}













\section{Integrating with respect to \textit{x}}

We can summarize the above procedure with a formula that respects the geometrical reasoning described previously.

\begin{formula}
The area of a region bounded by continuous functions on $a \le x \le b$ is given by: 

\[A=\int_{x=a}^{x=b} h(x) dx \]
where $h(x)$ is the height of each rectangle as a function of $x$, $x=a$ gives the $x$-value of the first slice, and $x=b$ gives the $x$-value of the last slice.

By using vertical rectangles, we have 
\[
h(x) = y_{top}-y_{bot}
\] 
where $y_{top}$ is found from the top curve, expressed as a function of $x$, and $y_{bot}$ is found form the bottom curve.
\end{formula}

Let's look at a few more examples that demonstrate how to apply the formula.


\begin{example}
Find the area bounded by the curves $y=\frac{9}{x}$, $y=2x-3$, and $x=1$.

\begin{explanation}
The best way to start is to draw a picture of the region, and draw a representative rectangle that will be used to build the area of the region.  

%%%%%%%%PICTURE%%%%%%%%%%%


%%%%%%%%PICTURE%%%%%%%%%%%

Note that there is a ``natural" right-hand boundary here given by the $x$-value where the curves intersect.

   \begin{align*}
    \frac{9}{x} &= 2x-3\\
  9 &= 2x^2-3x\\
   2x^2-3x-9 &= 0\\
   (2x+\answer[given]{3})(x+\answer[given]{-3})  &= 0 \\
   x   &= -\frac{3}{2} \text{ or }\answer[given]{3}.
  \end{align*}
  From the picture, note that the other intersection point $x=-\frac{3}{2}$ is not relevant.

We must now express $h$ in terms of the variable of integration.  Since $h$ is a vertical distance, $h(x)=y_{top}-y_{bot}$.  The function used to determine the upper $y$-value is \wordChoice{\choice{$y_{top}=2x-3$}\choice[correct]{$y_{top}=\frac{9}{x}$}\choice{$y_{top}=1$}}.  The function used to determine the lower $y$-value is \wordChoice{\choice[correct]{$y_{bot}=2x-3$}\choice{$y_{bot}=\frac{9}{x}$}\choice{$y_{bot}=1$}}

The height $h$ of the rectangle is thus $h=y_{top}-y_{bot} = \answer[given]{\frac{9}{x}-(2x-3)}$, and the area is given by:
  \[
 \int_{x=a}^{x=b} h dx =  \int_{x=\answer[given]{1}}^{x=\answer[given]{3}} \answer[given]{\frac{9}{x}-(2x-3)} dx .  \]
  
 Evaluating the integral, we find that the area is $A= \answer[given]{-2+9 \ln(3)}$.
  \begin{hint}
    \begin{align*}
      \int_1^3 \frac{9}{x}-(2x-3) dx &= \int_1^3 \frac{9}{x}-2x+3 dx\\
      &=\eval{\answer[given]{9\ln(x)-x^2+3x}}_1^3\\
    \end{align*}
  \end{hint}
\end{explanation}
\end{example}


























\end{document}
